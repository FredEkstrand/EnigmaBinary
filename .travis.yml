language: csharp
solution: EnigmaBinary.sln
before_install:
  - sudo apt-get install nunit-console
before_script:
  - nuget restore EnigmaBinary.sln
after_script:
  - nunit-console EnigmaBinaryTest/bin/Debug/EnigmaBinaryTest.dll
  - .\packages\OpenCover.4.6.519\OpenCover.Console.exe -register:user -target:"C:\Program Files (x86)\Microsoft Visual Studio 15.0\Common7\IDE\MSTest.exe" -targetargs:"/noresults /noisolation /testcontainer:"".\EnigmaBinaryTest\bin\Debug\EnigmaBinaryTest.dll" -filter:"+[EnigmaBinaryTest]*  -[EnigmaBinaryTest]EnigmaBinaryTest.Properties.*" -excludebyattribute:*.ExcludeFromCodeCoverage* -hideskipped:All -output:.\EnigmaBinaryTest_coverage.xml
  - "SET PATH=C:\\Python34;C:\\Python34\\Scripts;%PATH%"
  - pip install codecov
  - codecov -f "EnigmaBinaryTest_coverage.xml
  (New-Object System.Net.WebClient).DownloadFile("https://codecov.io/bash", ".\CodecovUploader.sh")
.\CodecovUploader.sh -f "EnigmaBinaryTest_coverage.xml -t <53530244-8d2d-4723-8a96-e0b3e1dd74e7> -X gcov
